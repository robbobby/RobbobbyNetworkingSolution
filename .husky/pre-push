#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "🚀 Running pre-push validation..."

echo "🔗 Running integration tests..."
dotnet test --filter "Category=Integration" --verbosity minimal || echo "⚠️  Integration tests failed - continuing anyway"

echo "🔨 Building solution in Release mode..."
dotnet build --configuration Release || echo "⚠️  Release build failed - continuing anyway"

echo "📦 Validating package builds..."
dotnet pack --configuration Release --no-build || echo "⚠️  Package build failed - continuing anyway"

echo "✅ Pre-push validation completed - proceeding with push"
